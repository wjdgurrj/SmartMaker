0

#SCRIPT_EDIT_SOURCE
스크롤의 검색을 완료한 후에 다음 문단을 실행한다.(추가행위치, 마지막행위치)
{
        DB는 데이터베이스(1)이다.
        임시는 스크롤의 유효행수를 참조한다.
        다음 문단을 임시만큼 반복 실행한다.
        {
                체크(반복횟수)의 선택값을 1으로 설정한다.
                선택여부확인(반복횟수)는 1을 참조한다.
                임시_상품명은 메뉴명(반복횟수)를 참조한다.
                조건절은 식("메뉴명 = '"+임시_상품명+"'")을 참조한다.
                썸네일이미지(반복횟수)는 DB의 이미지('읽기',"카페주문앱_메뉴","썸네일이미지",조건절)을 실행하여 참조한다.
        }
        전체선택의 선택값을 1으로 설정한다.
        전체선택여부는 1을 참조한다.
        DB처리문("총가격구하기")를 실행한다.
        총가격구하기를 실행한다.
}
폼을 열면 다음 문단을 실행한다.
{
        회원ID는 전역정보("회원ID")를 참조한다.
        스크롤의 기본조건을 식("회원ID = '"+회원ID+"'" + "AND 처리상태 = '장바구니'")으로 설정한다.
        폼의 기본검색키동작을 실행한다.
        화면가리기의 화면감춤을 설정한다.
        회원ID는 전역정보("회원ID")를 참조한다.
        //총가격구하기를 실행한다.
}
문단 총가격구하기
{
        총가격은 0을 참조한다.
        다음 문단을 스크롤의 유효행수만큼 반복 실행한다.
        {
                선택여부확인(반복횟수)가 0이면 문단의 처음으로 이동한다.
                임시는 가격(반복횟수)를 참조한다.
                총가격은 식(총가격+임시)이다.
        }
}

체크을 누르면 다음 문단을 실행한다.
{
        행번호는 스크롤의 선택행을 참조한다.
        선택여부확인(행번호)가 1이면 다음 문단을 실행한다.
        {
                전체선택여부는 0을 참조한다.
                선택여부확인(행번호)는 0을 참조한다.
                전체선택의 선택값을 0으로 설정한다.
                총가격구하기를 실행한다.
                문단의 실행을 종료한다.
        }
        선택여부확인(행번호)가 0이면 다음 문단을 실행한다.
        {
                선택여부확인(행번호)는 1을 참조한다.
                전체체크여부를 실행한다.
                총가격구하기를 실행한다.
                문단의 실행을 종료한다.
        }
}

문단 전체체크여부
{
        임시는 0이다.
        스크롤반복횟수는 스크롤의 유효행수를 참조한다.
        다음 문단을 스크롤반복횟수만큼 반복 실행한다.
        {
                체크(반복횟수)의 선택값이 0이면 임시는 식(임시+1)이다.
        }
        임시가 0이 아니면 문단의 실행을 종료한다.
        전체선택의 선택값을 1으로 설정한다.
        전체선택여부는 1을 참조한다.
}
버튼_수량감소을 누르면 다음 문단을 실행한다.
{
        임시는 스크롤의 선택행을 참조한다.
        임시2는 입력란_수량(임시)를 참조한다.
        임시2는 식(임시2 - 1)이다.
        임시2가 1보다 작으면 "수량은 1보다 작을 수 없습니다"를 알림으로 표시하고 문단의 실행을 종료한다.
        입력란_수량(임시)는 임시2를 참조한다.
        임시_주문번호는 내부주문번호(임시)를 참조한다.
        임시_상품명1은 메뉴명(임시)를 참조한다.
        DB처리문("메뉴가격가져오기")를 실행한다.
        가격(임시)는 식(가격(임시)-임시가격)을 참조한다.
        임시3은 가격(임시)를 참조한다.
        DB처리문("장바구니_수량변화")를 실행한다.
        총가격구하기를 실행한다.
        // 디비에 내용 저장
}

버튼_수량증가을 누르면 다음 문단을 실행한다.
{
        임시는 스크롤의 선택행을 참조한다.
        임시2는 입력란_수량(임시)를 참조한다.
        임시2는 식(임시2 + 1)이다.
        입력란_수량(임시)는 임시2를 참조한다.
        임시_주문번호는 내부주문번호(임시)를 참조한다.
        임시_상품명1은 메뉴명(임시)를 참조한다.
        DB처리문("메뉴가격가져오기")를 실행한다.
        가격(임시)는 식(가격(임시)+임시가격)을 참조한다.
        임시3은 가격(임시)를 참조한다.
        DB처리문("장바구니_수량변화")를 실행한다.
        총가격구하기를 실행한다.
        // 디비에 내용 저장
}

선택삭제을 누르면 다음 문단을 실행한다.
{
        "선택하신 상품을 삭제하시겠습니까?"('예아니오','질문',"","예처리","아니오처리")를 화면에 표시한다.
}

문단 예처리
{
        스크롤반복횟수는 스크롤의 유효행수를 참조한다.
        다음 문단을 스크롤반복횟수만큼 반복 실행한다.
        {
                선택여부확인(반복횟수)이 1이면 다음 문단을 실행한다.
                {
                        검색결과에 내부주문번호(반복횟수)를 행으로 추가한다.
                }
        }
        다음 문단을 검색결과의 행수만큼 반복 실행한다.
        {
                일련번호는 검색결과를 순서대로 참조한다.
                DB처리문("장바구니_삭제하기")를 실행한다.
        }
        스크롤을 모두 삭제한다.
        폼의 기본검색키동작을 실행한다.
        스크롤반복횟수는 스크롤의 유효행수를 참조한다.
        다음 문단을 스크롤반복횟수만큼 반복 실행한다.
        {
                체크(반복횟수)의 선택값은 1으로 설정한다.
                선택여부확인(반복횟수)는 1을 참조한다.
        }
        "삭제되었습니다"를 알림으로 표시한다.
        총가격구하기를 실행한다.
}

주문하기을 누르면 다음 문단을 실행한다.
{
        스크롤반복횟수는 스크롤의 유효행수를 참조한다.
        만일 스크롤반복횟수가 0이면 다음 문단을 실행한다.
        {
                "장바구니에 상품이 없습니다. 상품을 담아주세요"를 화면에 표시한다.
                문단의 실행을 종료한다.
        }
        "선택하신 상품을 주문하시겠습니까?"('예아니오','질문',"","주문예처리","주문아니오처리")를 화면에 표시한다.
        
}
문단 주문예처리
{
        다음 문단을 스크롤의 유효행수만큼 반복 실행한다.
        {
                선택여부확인(반복횟수)가 0이면 문단의 처음으로 이동한다.
                임시_주문번호는 내부주문번호(반복횟수)를 참조한다.
                DB처리문("처리상태변경")을 실행한다.
        }
        버튼의 상세폼보기를 실행한다.
}
문단 주문아니오처리
{

}

전체선택을 누르면 다음 문단을 실행한다.
{
        전체선택여부가 0이면 다음 문단을 실행한다.
        {
                전체선택여부는 1을 참조한다.
                스크롤반복횟수는 스크롤의 유효행수를 참조한다.
                다음 문단을 스크롤반복횟수만큼 반복 실행한다.
                {
                        체크(반복횟수)의 선택값은 1으로 설정한다.
                        선택여부확인(반복횟수)는 1을 참조한다.
                }
                DB처리문("총가격구하기")를 실행한다.
                문단의 실행을 취소한다.
        }
        전체선택여부가 1이면 다음 문단을 실행한다.
        {
                전체선택여부는 0을 참조한다.
                스크롤반복횟수는 스크롤의 유효행수를 참조한다.
                다음 문단을 스크롤반복횟수만큼 반복 실행한다.
                {
                        체크(반복횟수)의 선택값은 0으로 설정한다.
                        선택여부확인(반복횟수)는 0을 참조한다.
                }
                총가격구하기를 실행한다.
                문단의 실행을 취소한다.
        }
}