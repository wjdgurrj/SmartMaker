0

#SCRIPT_EDIT_SOURCE
폼을 열면 다음 문단을 실행한다.
{
        //신규주문번호가져오기
        회원ID는 전역정보("회원ID")를 참조한다.
        DB처리문("주문번호찾아오기")을 실행한다.
        주문번호는 식(주문번호+1)을 참조한다.
        //초기화
        입력란_수량은 1을 참조한다.
        드실곳은 "매장"을 참조한다.
        총가격은 선택가격을 참조한다.
        팝업열기는 "닫힘"이다.
        샷추가수량과 휘핑크림추가수량과 바닐라시럽추가수량과 카라멜시럽추가수량은 0을 참조한다.
}
//수량 증가&감소
버튼_수량증가을 누르면 다음 문단을 실행한다.
{
        입력란_수량은 식(입력란_수량+1)을 참조한다.
        총가격계산을 실행한다.
}
버튼_수량감소을 누르면 다음 문단을 실행한다.
{
        입력란_수량이 1이면 문단의 실행을 종료한다.
        입력란_수량은 식(입력란_수량-1)을 참조한다.
        총가격계산을 실행한다.
}

//사이즈
콤보_사이즈에서 항목의 선택을 변경하면 다음 문단을 실행한다.
{
        사이즈값은 콤보_사이즈을 참조한다.
        총가격계산을 실행한다.
}

//옵션팝업
옵션선택버튼을 누르면 다음 문단을 실행한다.
{
        팝업열고닫기(팝업열기)을 실행한다.
}

문단 팝업열고닫기(팝업열기값)
{
        팝업열기값이 "닫힘"이면 다음 문단을 실행한다.
        {
                옵션팝업의 화면감춤을 해제한다.
                팝업열기는 "열림"을 참조한다.
        }
        팝업열기값이 "열림"이면 다음 문단을 실행한다.
        {
                옵션팝업의 화면감춤을 설정한다.
                팝업열기은 "닫힘"을 참조한다.
        }
}

버튼_선택완료을 누르면 다음 문단을 실행한다.
{
        팝업열고닫기(팝업열기)을 실행한다.
        총가격계산을 실행한다.
}

//옵션값조정
샷_증가을 누르면 다음 문단을 실행한다.
{
        샷추가수량은 식(샷추가수량+1)을 참조한다.
}

샷_감소을 누르면 다음 문단을 실행한다.
{
        샷추가수량이 1보다 작으면 문단의 실행을 종료한다.
        샷추가수량은 식(샷추가수량-1)을 참조한다.
}

휘핑크림_증가을 누르면 다음 문단을 실행한다.
{
        휘핑크림추가수량은 식(휘핑크림추가수량+1)을 참조한다.
}

휘핑크림_감소을 누르면 다음 문단을 실행한다.
{
        휘핑크림추가수량이 1보다 작으면 문단의 실행을 종료한다.
        휘핑크림추가수량은 식(휘핑크림추가수량-1)을 참조한다.
}

바닐라시럽_증가을 누르면 다음 문단을 실행한다.
{
        바닐라시럽추가수량은 식(바닐라시럽추가수량+1)을 참조한다.
}

바닐라시럽_감소을 누르면 다음 문단을 실행한다.
{
        바닐라시럽추가수량이 1보다 작으면 문단의 실행을 종료한다.
        바닐라시럽추가수량은 식(바닐라시럽추가수량-1)을 참조한다.
}

카라멜시럽_증가을 누르면 다음 문단을 실행한다.
{
        카라멜시럽추가수량은 식(카라멜시럽추가수량+1)을 참조한다.
}

카라멜시럽_감소을 누르면 다음 문단을 실행한다.
{
        카라멜시럽추가수량이 1보다 작으면 문단의 실행을 종료한다.
        카라멜시럽추가수량은 식(카라멜시럽추가수량-1)을 참조한다.
}

//픽업여부
라디오를 누르면 다음 문단을 실행한다.
{
        드실곳은 "매장"을 참조한다.
}
라디오1을 누르면 다음 문단을 실행한다.
{
        드실곳은 "테이크아웃"을 참조한다.
}

문단 총가격계산
{
        한개가격은 선택가격을 참조한다.

        사이즈값이 "라지"이면 다음 문단을 실행한다.//사이즈:500원
        {
                한개가격은 식(선택가격+500)을 참조한다.
        }
        사이즈값이 "그란데"이면 다음 문단을 실행한다.//사이즈:1000원
        {
                한개가격은 식(선택가격+1000)을 참조한다.
        }

        //옵션계산
        한개가격은 식(한개가격+샷추가수량*500+휘핑크림추가수량*500+바닐라시럽추가수량*300+카라멜시럽추가수량*300)을 참조한다.
        
        총가격은 식(한개가격*입력란_수량)을 참조한다.
}

버튼_담기을 누르면 다음 문단을 실행한다.//장바구니에 담기
{
        DB처리문("장바구니존재확인")을 실행한다.
        만일 실행결과가 1이면 다음 문단을 실행한다.
        {
                "장바구니에 이미 담겨 있습니다. 장바구니로 이동하시겠습니까?"('예아니오','질문',"","예처리","중복아니오처리")를 화면에 표시한다.
                문단의 실행을 종료한다.
        }
        처리상태는 "장바구니"이다.
        DB처리문("장바구니담기")을 실행한다.
        "장바구니에 추가되었습니다. 장바구니로 이동하시겠습니까?"('예아니오','질문',"","예처리","추가아니오처리")를 화면에 표시한다.
}
문단 예처리
{
        장바구니의 상세폼보기를 실행한다.
        폼을 종료한다.
}
문단 추가아니오처리
{
        주문번호는 식(주문번호+1)을 참조한다.
}

문단 중복아니오처리
{
}

버튼_주문하기을 누르면 다음 문단을 실행한다.
{
        처리상태는 "바로주문"이다.
        DB처리문("바로주문하기")를 실행한다.
        버튼의 상세폼보기를 실행한다.
        //폼을 종료한다.
        
}

폼의 검색을 완료한 후에 다음 문단을 실행한다.(검색유형, 검색결과, 탭뷰번호)
{
        만일 임시종류가 "커피"이면 그룹묶기의 화면감춤을 해제한다.
        만일 임시종류가 "음료"이면 그룹묶기의 화면감춤을 해제한다.
}